<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<nav class="nav clearfix">
		<h1>GREEN</h1>
		<ul>
			<li class="active"><a href="#section1">menu1</a></li>
			<li><a href="#section2">menu2</a></li>
			<li><a href="#section3">menu3</a></li>
			<li><a href="#section4">menu4</a></li>
			<li><a href="#section5">menu5</a></li>
			<li><a href="#section6">menu6</a></li>
		</ul>
        <div class="mNav">
            <div class="icon-wrap">
                <div class="icon"></div>
            </div>
        </div>
	</nav>

	<div id="contents">
		<div id="section1">
			<h2>1.지루해서 보이지 않았던 모든 것<br>누구에겐 삶 누구에겐 시간<br>누구에겐 사랑</h2>
		</div>
		<div id="section2">
			<h2>2.다시 만져보고 말 걸어줄게<br>애틋한 눈 하고 바라볼게</h2>
		</div>
		<div id="section3">
			<h2>3.내가 너에게 숨결을 불어넣어 줄게<br>오후 4시 저기 저 유리창을 통해<br>내 맘을 비추는</h2>
		</div>
		<div id="section4">
			<h2>4.사랑스럽고 나른한 저 빛처럼<br>예쁜 모든 것들에게 미안해<br>넌 매일 빛나고 있었는데</h2>
		</div>
		<div id="section5">
			<h2>5.항상 주머니에 손을 넣으면<br>잡힐 줄 알았던 모든 것</h2>
		</div>
		<div id="section6">
			<h2>6.다들 그랬을까? 너도 그랬을까?<br>이제서야 서운함 가득한<br>내 일상들아 미안해</h2>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
	<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script> <!-- https://jqueryui.com/easing/ -->

	<script>
		var nav = $('.nav>ul>li'); //내 바로 밑 자식만
		var cont = $('#contents>div');

		nav.click(function(e){
			e.preventDefault();
			var target = $(this);
			var index = target.index();
			// console.log(index);

			var section = cont.eq(index);
			// console.log(section);

			var offset = section.offset().top;
			console.log(offset);

			// A.animate({실행문}, 시간, 이징);
			$('html, body').animate({
				scrollTop: offset
			}, 600, 'easeOutBounce');
		});


		//scroll이 움직일 때마다 할 일
		$(window).scroll(function(){
			var wScroll = $(this).scrollTop();
			//여기서 $(this)는 window를 의미
			// console.log(wScroll);

			// 두번째 영역의 머리가 닿는 지점보다 스크롤 위치가 작을 때
			if(wScroll<cont.eq(1).offset().top){
            nav.removeClass('active');
            nav.eq(0).addClass('active');
						// 0번째 영역에 active 추가해라
        }else if(wScroll<cont.eq(2).offset().top){
            nav.removeClass('active');
            nav.eq(1).addClass('active');
        }else if(wScroll<cont.eq(3).offset().top){
            nav.removeClass('active');
            nav.eq(2).addClass('active');
        }else if(wScroll<cont.eq(4).offset().top){
            nav.removeClass('active');
            nav.eq(3).addClass('active');
        }else if(wScroll<cont.eq(5).offset().top){
            nav.removeClass('active');
            nav.eq(4).addClass('active');
        }else{
            nav.removeClass('active');
            nav.eq(5).addClass('active');
        }

		});


		// 모바일 메뉴
		$('.mNav').click(function(){
			$('.nav>ul').slideToggle();
		});

		//화면 넓이가 바뀔 때
		$(window).resize(function(){
			var wWidth = $(window).width();
			console.log(wWidth);
			console.log($('.nav>ul').is(':hidden'));
			//is : 찾는 것
			//:hidden --> display:none이 있으면 true, 없으면 false
			if(wWidth > 800 && $('.nav>ul').is(':hidden')){  // --> 넓이가 800보다 큰데도 display:none인 것
				// $('.nav>ul').removeAttr("style");
				// $('.nav>ul').show();
				$('.nav>ul').css({display:"block"});
			}
		});

	</script>

</body>

</html>